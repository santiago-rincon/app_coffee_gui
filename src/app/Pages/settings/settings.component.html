<app-navbar></app-navbar>
<div class="container-xxl">
  <!-- Umbrales de medida-->
  <div class="row">
    <div class="col text-center my-3">
      <h3>Modificar de Umbrales de Medida ðŸ”¨</h3>
    </div>
  </div>
  <div class="row align-items-center">
    <div class="col-sm-12 col-xl-5">
      <div class="col">
        <ul>
          <li class="head"><strong>Umbrales Actuales</strong></li>
          <!-- <li>Temperatura: 10 Â°C</li>
          <li>Humedad: 10 %</li>
          <li>CO2: 10 ppm</li>
          <li>RadiaciÃ³n Solar: 10 U</li> -->
          <li>Temperatura: {{ dataUmbral[0].Temperatura }} Â°C</li>
          <li>Humedad Ambiente: {{ dataUmbral[0].Humedad }} %</li>
          <li>Humedad del Suelo: {{ dataUmbral[0].HumedadS }} %</li>
          <li>CO2: {{ dataUmbral[0].CO2 }} ppm</li>
          <li>RadiaciÃ³n Solar: {{ dataUmbral[0].Rad }} U</li>
        </ul>
      </div>
    </div>
    <div class="col-sm-12 col-xl-7 pe-xl-5">
      <form [formGroup]="umbralSet" (submit)="updateUmbral()">
        <div class="form-floating my-3">
          <select
            class="form-select"
            id="floatingSelect"
            aria-label="Floating label select example"
            (change)="filter($event)"
            formControlName="parameter"
          >
            <option *ngFor="let variable of variables" [value]="variable">
              {{ variable }}
            </option>
          </select>
          <label for="floatingSelect">Selecciona una variable</label>
        </div>
        <div class="input-group my-3">
          <input
            type="number"
            class="form-control"
            aria-label="Recipient's username"
            aria-describedby="basic-addon2"
            formControlName="value"
          />
          <span class="input-group-text" id="basic-addon2">{{ unity }}</span>
        </div>
        <button type="submit" class="btn btn-success w-100 mb-3">
          Actualizar
        </button>
      </form>
    </div>
  </div>
  <!-- EliminaciÃ³n de registros -->
  <div class="row align-items-center">
    <div class="col text-center my-3">
      <h3>Eliminar de registros actuales ðŸ—‘</h3>
    </div>
  </div>
  <div class="row align-items-center">
    <div class="col-sm-12 col-xl-5">
      <div class="col">
        <ul>
          <li class="info">
            En este mÃ³dulo podrÃ¡s eliminar todos los registros tomados hasta el
            momento de la base de datos.
          </li>
          <li class="info" *ngIf="registersShow">
            Registros actuales: {{ registers }}
          </li>
        </ul>
      </div>
    </div>
    <div class="col-sm-12 col-xl-7 pe-xl-5">
      <form [formGroup]="deleteRegister" (submit)="deleteData()">
        <div class="form-floating my-3">
          <select
            class="form-select"
            id="floatingSelect"
            aria-label="Floating label select example"
            (change)="numberRegister($event)"
            formControlName="deleteVariable"
          >
            <option *ngFor="let variable of variables" [value]="variable">
              {{ variable }}
            </option>
          </select>
          <label for="floatingSelect">Selecciona una variable</label>
        </div>
        <button type="submit" class="btn btn-danger w-100 mb-3">
          Eliminar
        </button>
      </form>
    </div>
  </div>
  <!-- Agregar nodos sensores -->
  <div class="row align-items-center">
    <div class="col text-center my-3">
      <h3>Agregar nodo sensor âž•</h3>
    </div>
  </div>
  <div class="row align-items-center">
    <div class="col-sm-12 col-xl-5">
      <div class="col">
        <ul>
          <li class="info">
            En este mÃ³dulo podrÃ¡s agregar un nuevo nodo sensor, deberÃ¡s
            especificar su direcciÃ³n MAC y un identificador.
          </li>
          <li class="info">
            Nodos sensores registrados: {{ nodesList.length }}
          </li>
        </ul>
      </div>
    </div>
    <div class="col-sm-12 col-xl-7 pe-xl-5">
      <form [formGroup]="addNode" (submit)="newNode()">
        <div class="form-floating mb-3">
          <input
            type="text"
            class="form-control"
            id="floatingInput"
            formControlName="mac"
            autocomplete="off"
            style="text-transform: uppercase"
            maxlength="17"
          />
          <label for="floatingInput"
            >DirecciÃ³n MAC (Ej: 00:11:22:33:44:55)</label
          >
        </div>
        <div
          class="form-floating mb-3"
          *ngIf="addNode.get('mac')?.invalid && addNode.get('mac')?.touched"
        >
          <span class="text-danger pb-2"
            >La direcciÃ³n MAC ingresada no es correcta</span
          >
        </div>
        <div class="form-floating mb-3">
          <select
            class="form-select"
            id="floatingSelect"
            aria-label="Floating label select example"
            formControlName="nodeId"
          >
            <option
              *ngFor="let avaliableId of avaliableIds"
              [value]="avaliableId"
            >
              {{ avaliableId }}
            </option>
          </select>
          <label for="floatingSelect">Selecciona un identificador</label>
        </div>
        <button type="submit" class="btn btn-primary w-100 mb-3">AÃ±adir</button>
      </form>
    </div>
  </div>
</div>
<!-- END -->
<app-footer></app-footer>
